{"version":3,"sources":["helpers.js","components/GenerateRandomAttendanceData.js","firebase.js","components/Login.js","components/Email.js","components/Calendar_day.js","components/Calendar.js","components/Frame20.js","components/Frame19.js","components/Worker.js","components/Frame21.js","components/NoMatch.js","components/Manager_worker.js","components/Worker_signup.js","components/ManagerSignnup.js","components/Signup.js","components/Frame27.js","components/WorkerOverviewGraph.js","components/AttendanceGraph.js","components/Dashboard.js","components/Header.js","components/Footer.js","components/ManagerSettings.js","App.js","reportWebVitals.js","index.js"],"names":["getYMD","d","day","getDate","toString","length","month","getMonth","getFullYear","generateTime","hour","Math","max","random","minutes","hh","mm","generateMood","moods","round","generateTemperature","diff","generateRandomAttendance","startDate","finishDate","attendance","Date","getTime","setDate","key","time","picture","mood","temperature","GenerateRandomAttendanceData","useEffect","console","log","setMonth","dbRef","ref","db","get","child","then","snapshot","exists","workers","val","workerKey","worker","gender","role","set","app","firebase","apps","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","auth","getDatabase","registerWithEmailAndPassword","name","position","email","password","a","createUserWithEmailAndPassword","res","user","uid","photo","Login","useState","setEmail","setPassword","navigate","useNavigate","loading","setLoading","error","setError","className","CircularProgress","Alert","severity","required","type","placeholder","onChange","e","target","value","id","htmlFor","style","alignItems","textAlign","onClick","preventDefault","signInWithEmailAndPassword","userCredential","catch","err","onLogin","to","init","Email","title","setTitle","content","setContent","React","open","setOpen","handleClose","event","reason","action","Fragment","IconButton","size","color","fontSize","width","marginTop","height","verticalAlign","rows","cols","Button","variant","marginRight","marginLeft","display","data","to_email","from_name","to_name","email_title","message","emailjs","send","response","status","text","sendEmail","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","Day","props","reasonResponse","undefined","Calendar","rolePopup","first","year","first_day","w","getDay","current_day","dayoffs","starting_time","additionalInfo","working_from","days","current_day_str","today","i","slice","push","date","reason_response","weeks","dayData","setDayData","redOpen","setRedOpen","greenOpen","setGreenOpen","whiteOpen","setWhiteOpen","handleRedClose","handleGreenClose","handleWhiteClose","week","map","alignContent","Dialog","DialogContent","padding","greenDayPopup","redDayPopup","whiteDayPopup","Input","styled","Frame20","setText","reasonRef","fileName","setFileName","marginBottom","accept","multiple","files","component","close","Frame19","Avatar","alt","workerName","src","workerPhoto","sx","fontWeight","Worker","setYear","month_names","Frame21","reasonResponseRef","setReason","onValue","snap","Link","split","flexDirection","NoMatch","ManagerWorker","useParams","idWorker","WorkerSignup","fullName","setFullName","setCode","setPosition","file","setFile","handleFormSubmit","fileFormData","FormData","append","axios","post","headers","ManagerSignnup","generated","setGenerated","groupcodeElement","disabled","href","navigator","clipboard","writeText","result","characters","charactersLength","charAt","floor","makeid","Signup","setType","FormControl","FormLabel","RadioGroup","FormControlLabel","control","Radio","label","Frame27","HtmlTooltip","Tooltip","classes","popper","theme","tooltipClasses","tooltip","maxWidth","border","WorkerOverviewGraph","workerId","workerData","namesOfDayOfWeekP","monthBlocks","cur","prev","lates","misses","toLocaleString","shift","disableInteractive","gridColumnStart","AttendanceGraph","ticks","totalWorkers","rate","ResponsiveContainer","AreaChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","tickFormatter","item","YAxis","labelFormatter","formatter","Area","dataKey","stroke","fill","Dashboard","workerOverviewGraphs","Object","keys","filter","index","Header","location","useLocation","anchorEl","setAnchorEl","Boolean","pathname","links","currentTarget","Menu","disableAutoFocusItem","MenuListProps","MenuItem","signOut","Footer","Divider","ManagerSettings","start_time","end_time","extreme_temp","editTime","setEditTime","editTemp","setEditTemp","temp","setTemp","stTime","setStTime","endTime","setEndTime","justifyContent","App","setWorkers","setDayoffs","setAdditionalInfo","setUid","onAuthStateChanged","manager","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1aeefdf.chunk.js","sourcesContent":["function getYMD(d) {  // YYYY-MM-DD format\n    let day = d.getDate().toString();\n    if(day.length !== 2) day = '0' + day;\n    let month = (d.getMonth() + 1).toString();\n    if(month.length !== 2) month = '0' + month;\n    return `${d.getFullYear()}-${month}-${day}`;\n}\n\nexport { getYMD };","import React, { useEffect } from 'react'\nimport { db } from '../firebase';\nimport {ref, child, get, set, update} from 'firebase/database';\nimport { getYMD } from '../helpers'; \n\n\nfunction randomPosition() {\n    let positions = [\"Backend Engineer\", \"DevOps Engineer\", \"Frontend Engineer\", \"Operating Assitant\", \"Intern\", \"Web Designer\", \"Marketing Coordinator\", \"Project Manager\", \"Human Resources Manager\", \"Accountant\", \"Sales\", \"Quantum Analyst\"];\n    let index = Math.round(Math.random() * (positions.length - 1));\n    return positions[index];\n}\n\nfunction randomPicture(gender) {\n    let pictures = {\n        male: [\n            'https://www.byrdie.com/thmb/Axx3ZdrPMB6QfFNLVXWF9oPGe0g=/800x800/smart/filters:no_upscale()/faceshapepromo-13c68f5af8dc412dad199b12402da165.jpg',\n            'https://images.theconversation.com/files/90015/original/image-20150729-30889-ri221u.jpg?ixlib=rb-1.1.0&q=45&auto=format&w=1200&h=1200.0&fit=crop',\n            'https://www.faceapp.com/static/img/content/compare/beard-example-before@3x.jpg',\n            'https://images.thefacecdn.com/images/CLIVE_THEFACE_1.jpg?fit=crop&crop=focalpoint&fp-x=0.5&fp-y=0.5&w=375&h=267.85714285714',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTL17fZHkmmrXz8BupXTxnnoJxstS7d4VDoZQ&usqp=CAU',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ67VRyYMw5x8ignJSPN0d0Dme98CF8HyOd57jZA0nrLrr3FyM3lqabk9OWnHVsbUkJGBE&usqp=CAU',\n            'https://assets.adidas.com/images/h_840,f_auto,q_auto:sensitive,fl_lossy,c_fill,g_auto/948385e6260747618f07ac56017abfeb_9366/Face_Covers_3-Pack_M-L_Multicolor_HB7854_21_model.jpg',\n            'https://i.shgcdn.com/71fa9399-31ab-4bd0-a055-235e3ca625dc/-/format/auto/-/preview/3000x3000/-/quality/lighter/',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSaXrFMnQrS3cdGFTB-UpG-5qMGMQyybPu7xg&usqp=CAU',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSISqltd9EaCd7R7zw0mRiQy3xc7DV-luVOBEj98MGYLug-EKmnooyC0OFP8DrBh5XLtBo&usqp=CAU',\n            'https://www.aljazeera.com/wp-content/uploads/2021/06/AP_21152729552748.jpg?resize=770%2C513',\n            'https://previews.123rf.com/images/warrengoldswain/warrengoldswain1107/warrengoldswain110700253/9967753-young-man-face-a-high-detailed-portrait.jpg',\n            'https://t4.ftcdn.net/jpg/02/45/56/35/360_F_245563558_XH9Pe5LJI2kr7VQuzQKAjAbz9PAyejG1.jpg',\n            'https://www.wallpaperflare.com/static/0/180/839/model-portrait-colton-haynes-man-wallpaper.jpg',\n            'https://cdn.picpng.com/faces/man-face-transparent-32747.png',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSyYijt7wsiqCMzExlfV2Eeib8BfYVGL3AjPA&usqp=CAU'\n        ],\n        female: [\n            'https://i.pinimg.com/474x/ca/06/a3/ca06a31bb0cf2d0fbfeddb0c592f8506--girl-face-woman-face.jpg',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQv6StiHq-eX8mSvmIFOmkE-WNSTavPJQIgHQ&usqp=CAU',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCOZxtxuvAgUAC-omdgVrlNivK2fItCWxnZA&usqp=CAU',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQVHqucMCo1VYFkxKI12a8a3lURlwUPmIyuAQ&usqp=CAU',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRWFocsVwxGCNHOsIgHj_f0-_DfGjpqLjRIKyRjuJ4OBL3I-qdV-UC71CUE6vI8PT3Hv0U&usqp=CAU',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjxyfiI0BpkaG81Y86mU9UiSpSLpYVz89u2EC2UhjPvtU_EEqz6mfFB9xbjDKMnKy8cnM&usqp=CAU',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTP4aUprW8wLVix_RWeTcwWqQUdYPz7yl57BdrMJz-YU1nE8pvl8wxpakJkkaPQaBx2n64&usqp=CAU',\n            'https://i.guim.co.uk/img/media/0e622be011c6795a9c5fd869fa61db1fd0e4802d/1258_4_3554_2133/master/3554.jpg?width=1200&height=1200&quality=85&auto=format&fit=crop&s=d2ae81d43169b6992b4f5c282ec770c2',\n            'https://assets.vogue.com/photos/606fdd82a2b7c03119469b39/4:3/w_656,h_492,c_limit/Screen%20Shot%202021-04-09%20at%2012.47.01%20AM%20(1).png',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS3XI7qfnmmtKi0hjmTNIoST8r_9-57gbekbQ&usqp=CAU',\n            'https://www.makeupforever.com/on/demandware.static/-/Sites-MakeUpForEver-KR-Library/default/dw38ff3766/images/Homepage/Face2.png',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQpnjp1duccUKQQUAPsOy4VgMPdENUawLP8-g&usqp=CAU',\n            'https://www.faceapp.com/static/img/content/compare/retouch-example-before@3x.jpg',\n            'https://www.drkandhariclinic.com/know-your-face/img/face-img.jpg',\n            'https://i.shgcdn.com/c37924fe-be73-431d-ab9a-77956248f3b7/-/format/auto/-/preview/3000x3000/-/quality/lighter/',\n            'https://img.i-scmp.com/cdn-cgi/image/fit=contain,width=1098,format=auto/sites/default/files/styles/1200x800/public/d8/images/canvas/2021/02/08/8af1e003-a184-4d28-8de8-619df0c404a2_3418b70d.jpg?itok=aROG35De&v=1612755550',\n            'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4Gg59I3SzhN-qjgKZ3DIV5w-C-DfapCziX6qI2qbabOlGJ12I4l7Mz-3xkjCACuhheYk&usqp=CAU'\n        ]\n    }\n    let which = pictures[gender];\n    let index = Math.round(Math.random() * (which.length - 1));\n    return which[index];\n}\n\nfunction randomName(gender) {\n    let names = {\n        male: [\n           'Aidyn Aluadin',\n           'Asmir Abdimazhit',\n           'Arsen Adilkhan',\n           'Liam Smith',\n           'Noah Doe',\n           'Donald Trump',\n           'Lionel Messi',\n           'Cristiano Ronaldo',\n           'James Bond',\n           'William Wittingen',\n           'Benjamin Franklin',\n           'Daniel Eizenbaum',\n           'Mason Momoa',\n           'Ethan Daniel',\n           'Michael Jackson' \n        ],\n        female: [\n            'Olivia Brown',\n            'Ava Smith',\n            'Emma Watson',\n            'Harley Quinn',\n            'Mia David',\n            'Misty Kim',\n            'Taylor Pak',\n            'Hyesoo Lee',\n            'Charlotte Whittington',\n            'Jenny Yeung',\n            'Louise Downie',\n            'Lisa Simpson',\n            'Maria Andreeva'\n        ]\n    }\n    let which = names[gender];\n    let index = Math.round(Math.random() * (which.length - 1));\n    return which[index];\n}\n\nfunction generateTime() { // Generates random time between 08:00 - 10:00\n    let startHour = 6; // 0-23\n    let endHour = 10; // 0-23\n    let hour = Math.max(8, startHour + Math.random() * (endHour - startHour) | 0);\n    let minutes = 0 + Math.random() * 59 | 0;\n    let hh = hour.toString();\n    if(hh.length < 2) hh = '0' + hh;\n    let mm = minutes.toString();\n    if(mm.length < 2) mm = '0' + mm;\n    return `${hh}:${mm}`;\n}\n\n\nfunction generateMood() {\n    let moods = [\"happy\", \"neutral\", \"angry\", \"sad\", \"worried\"];\n    let index = Math.round(Math.random() * (moods.length - 1));\n    return moods[index];\n}\n\nfunction generateTemperature() {\n    let normal = 36.6;\n    let diff = Math.random() * 2;\n    if(Math.random() <= 0.5) {\n        return normal - diff;\n    } else {\n        return normal + diff\n    }\n}\n\nfunction generateRandomAttendance(startDate, finishDate) {\n    let attendance = {}\n    for(let d = new Date(startDate.getTime()); d <= finishDate; d.setDate(d.getDate() + 1)) {\n        let key = getYMD(d);\n        let miss = (Math.random() <= 0.03);\n        // console.log(key, miss);\n        \n        if(!miss) {\n            attendance[key] = {\n                time: generateTime(),\n                picture: null, // url to the bucket\n                mood: generateMood(),\n                temperature: generateTemperature(),    \n            }\n        }\n    }\n    return attendance\n}\n\nfunction GenerateRandomAttendanceData() {\n    \n    useEffect(() => {\n        console.log('Starting!');\n\n        let finishDate = new Date();\n        let startDate = new Date();\n        startDate.setMonth(finishDate.getMonth() - 2);\n        startDate.setDate(1);\n        const dbRef = ref(db);\n\n        get(child(dbRef, 'workers')).then((snapshot) => {\n            console.log('response');\n            if(snapshot.exists()) {\n                let workers = snapshot.val();\n                for(let workerKey in workers) {\n                    let worker = workers[workerKey];\n                    console.log(workerKey, worker);\n                    \n                    let attendance = generateRandomAttendance(startDate, finishDate);\n                    /* \n                    {\n                        \"01-01-2022\": {\n                            time: \"08:00\",\n                            picture: \"url\",\n                            mood: \"fdsf\",\n                            temperature: 36.6,\n                            reason: \"\",\n                            reasonFile: \"\",\n                            reasonStatus: \"\",\n                            managerResponse: \"\" \n                        }\n                    };\n                    */ \n                    \n                    // console.log(attendance);\n\n                    let gender = Math.random() * 2;\n                    if(gender <= 1) gender = \"male\";\n                    else gender = \"female\";\n                    if(worker.role !== \"manager\") {\n                        set(ref(db, `workers/${workerKey}/attendance`), attendance);\n\n                        // update(ref(db, `workers/${workerKey}/`), {\n                        //     attendance: attendance,\n                        //     role: \"worker\",\n                        //     position: randomPosition(),\n                        //     photo: randomPicture(gender),\n                        //     name: randomName(gender)\n                        // });\n                    }\n                }\n            } else {\n                console.log(\"No data available\");\n            }\n        });\n\n    }, []);\n\n    return (\n        <div>\n            Firebase updated!\n        </div>\n    )\n}\n\nexport {\n    GenerateRandomAttendanceData,\n    generateRandomAttendance\n}","// Import the functions you need from the SDKs you need\nimport { getDatabase, set, ref } from '@firebase/database';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport { generateRandomAttendance } from './components/GenerateRandomAttendanceData';\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCBiauEzbSB0TdwO_1VWkapQ5Mj9iCZoQE\",\n  authDomain: \"attender-c6e24.firebaseapp.com\",\n  projectId: \"attender-c6e24\",\n  storageBucket: \"attender-c6e24.appspot.com\",\n  messagingSenderId: \"237919210485\",\n  appId: \"1:237919210485:web:21872c818ed62283ea6ebc\",\n  databaseURL: \"https://attender-c6e24-default-rtdb.asia-southeast1.firebasedatabase.app/\"\n};\n\n// Initialize Firebase\nlet app = null;\nif (firebase.apps.length === 0) {\n    app = firebase.initializeApp(firebaseConfig);\n} else {\n    app = firebase.apps[0];\n}\n\nconst auth = new firebase.auth();\nconst db = getDatabase(app);\n\nconst signInWithEmailAndPassword = async (email, password) => {\n    try {\n        await auth.signInWithEmailAndPassword(email, password);\n    } catch (err) {\n        console.error(err);\n        alert(err.message);\n    }\n};\n\nconst registerWithEmailAndPassword = async (role, name, position, email, password) => {\n    const res = await auth.createUserWithEmailAndPassword(email, password);\n    const user = res.user;\n    // await db.collection(\"users\").add({\n    //     uid: user.uid,\n    //     name,\n    //     authProvider: \"local\",\n    //     email\n    // })\n    let finishDate = new Date();\n    let startDate = new Date();\n    startDate.setMonth(finishDate.getMonth() - 2);\n    startDate.setDate(1);\n\n    await set(ref(db, `workers/${user.uid}`), {\n        name,\n        email,\n        photo: \"\", // backend will upload photo to AWS and set the url in Firebase\n        position,\n        role,\n        attendance: generateRandomAttendance(startDate, finishDate) // generating random attendance for last 3 month for new worker\n    });\n    // console.log('[inner] created!');\n\n    return user.uid;\n};\n\nconst logout = () => {\n    auth.signOut();\n};\n\nexport {\n    auth,\n    db,\n    signInWithEmailAndPassword,\n    registerWithEmailAndPassword,\n    logout\n};","import React, { useState, useEffect } from \"react\";\nimport { auth, signInWithEmailAndPassword } from '../firebase';\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\nimport '../css/Login.css';\n\n\nconst Login = ({uid}) => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const navigate = useNavigate();\n    console.log('Login rendered!');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(false);\n\n    const onLogin = (e) => {\n        e.preventDefault();\n        console.log('logging in');\n        setLoading(true);\n        auth.signInWithEmailAndPassword(email, password)\n            .then((userCredential) => {\n                navigate('/');\n            })\n            .catch((err) => {\n                setLoading(false);\n                setError(true);\n                console.log(err);\n            });\n    };\n\n    useEffect(() => {\n        if(uid) {\n            navigate('/');\n        }    \n    }, [uid]);\n\n    return (\n        (uid || loading) ?\n            <div className=\"loading-container\">\n                <CircularProgress />\n            </div>\n            :\n            <>\n            { error && <Alert severity=\"error\">Unexpected error happened. Please try again </Alert> }\n            <div className=\"auth-wrapper\">  \n                <div className=\"auth-inner\">\n                    <form className=\"login-form\">\n                        <h3>Sign in</h3>\n                        <div className=\"form-group\">\n                            <label>Email address</label>\n                            <input \n                                required\n                                type=\"email\" \n                                className=\"form-control\"\n                                placeholder=\"Enter email\" \n                                onChange={(e) => setEmail(e.target.value)}\n                            />\n                        </div>\n    \n                        <div className=\"form-group\">\n                            <label>Password</label>\n                            <input \n                                required\n                                type=\"password\" \n                                className=\"form-control\" \n                                placeholder=\"Enter password\"\n                                onChange={(e) => setPassword(e.target.value)}\n                            />\n                        </div>\n    \n                        <div className=\"form-group\">\n                            <div className=\"custom-control custom-checkbox\">\n                                <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\" />\n                                <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Remember me</label>\n                            </div>\n                        </div>\n                        \n                        <div  style={{alignItems: \"center\", textAlign:\"center\"}}>\n                            <button \n                                // type=\"submit\" \n                                className=\"btn btn-primary btn-block\"\n                                onClick={(e) => onLogin(e)}\n                            >\n                            {/* <input type=\"submit\" /> */}\n\n                                Sign in\n                            </button>\n                        </div>\n                        <p className=\"forgot-password text-right\">\n                            Don't have an <Link to=\"/signup\" className=\"link\"> account? </Link>\n                        </p>\n                    </form>\n                </div>\n            </div>\n            </>\n    )\n};\n\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\n\nimport { db } from '../firebase';\nimport {ref, child, get} from 'firebase/database';\nimport { useNavigate } from \"react-router-dom\";\nimport { auth } from '../firebase';\n\nimport '../css/Email.css';\nimport emailjs from 'emailjs-com';\n\nimport Button from \"@mui/material/Button\"\nimport IconButton from '@mui/material/IconButton';\nimport Snackbar from '@mui/material/Snackbar';\nimport CloseIcon from '@mui/icons-material/Close';\n\n\nimport { init } from 'emailjs-com';\ninit(\"user_ADA96Iq91Y5saGzluwfG5\");\n\nconst Email = ({uid, workers}) => {\n    const [title, setTitle] = useState('')\n    const [content, setContent] = useState('')\n    // const [workers, setWorkers] = useState({});\n    // const dbRef = ref(db);\n    const navigate = useNavigate();\n    const [open, setOpen] = React.useState(false);\n\n    // const [id, setId] = useState('');\n    const id = uid;\n    useEffect(() => {\n        if(!uid) {\n            navigate('/login');\n        }    \n    }, [uid]);\n\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway')\n            return;\n        setOpen(false);\n    };\n\n    console.log(workers);\n\n    const onTitleChange = (event) => {\n        setTitle(event.target.value);\n    }\n\n    const onContentChange = (event) => {\n        setContent(event.target.value);\n    }\n\n    const sendEmail = () => {\n        for(let workerKey in workers) {\n            // if (workerKey == id) {\n            //     continue;\n            // }\n\n            var data = {\n                to_email:workers[workerKey].email,\n                from_name: workers[id].name,\n                to_name:workers[workerKey].name,\n                email_title: title,\n                message: content\n            };\n            \n            emailjs.send('service_hwk67zd', 'template_48wblda', data, 'user_ADA96Iq91Y5saGzluwfG5').then(\n                function (response) {\n                    console.log(response.status, response.text);\n                },\n                function (err) {\n                console.log(err);\n                }\n            );\n        }\n        setOpen(true);\n        setTitle('');\n        setContent('');\n    }\n\n    const action = (\n        <React.Fragment>\n          <IconButton\n            size=\"small\"\n            aria-label=\"close\"\n            color=\"inherit\"\n            onClick={handleClose}\n          >\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n    );\n\n    return (\n        <>\n            <div>\n                <form className=\"email-form\">\n                    <p>\n                        <label htmlFor=\"to\" style={{width:'100px'}}>To: </label>\n\n                        <select id=\"to\">\n                            <option value=\"everyone\">everyone</option>\n                        </select>\n                    </p>\n\n                    <p>\n                        <label htmlFor=\"title\" style={{width:'100px'}}>Title: </label>\n                        <input id=\"title\" style={{width:'800px'}} type=\"text\" onChange={onTitleChange} value={title}/>\n                    </p>\n\n                    <p>\n                        <label htmlFor=\"content\" style={{width:'100px', marginTop: '0'}}>Content: </label>\n                        <textarea id=\"content\" style={{height:'300px', verticalAlign: 'top'}} name=\"content_text\" rows=\"14\" cols=\"106\" onChange={onContentChange} value={content}/>\n                    </p>\n\n                    <Button \n                        variant=\"contained\" \n                        style={{width:'200px', marginRight: '0px', marginLeft: 'auto', display: 'block'}}\n                        onClick={() => sendEmail()}\n                    >Send</Button>\n                </form>\n                <Snackbar\n                    anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}\n                    open={open}\n                    autoHideDuration={2000}\n                    onClose={handleClose}\n                    message=\"Emails were sent!\"\n                    action={action}\n                />\n            </div>\n        </>\n       \n    )\n};\n\nexport default Email;","import { textAlign } from \"@mui/system\";\nimport React from \"react\";\nimport '../css/Calendar.css';\n\nconst Day = (props) => {\n    const day = props.day;\n    switch(props.status){\n        case \"onTime\":\n            return(\n                <div className='green_day'>\n                    <div>{day}</div>\n                    <div>Check in</div>\n                    <div style={{fontSize: '24px'}}>{props.time}</div>\n                </div>\n            );\n        case \"late\":\n            return(\n                <div className='yellow_day'>\n                    <div>{day}</div>\n                    <div>Check in</div>\n                    <div style={{fontSize: '24px'}}>{props.time}</div>\n                </div>\n            )\n        case \"absent\":\n            return(\n                <div className={props.reasonResponse ? 'green_day' : 'red_day'}>\n                    <div>{day}</div>\n                    <div>Reason</div>\n                    <div style={{fontSize: '24px', textAlign: 'center'}}>{props.reason}</div>\n                    {(props.reasonResponse === undefined) ? \n                    <></> \n                    : <div style={{display:\"flex\"}}>Reason {props.reasonResponse ? ('approved') : 'rejected'}</div>}\n                </div>\n            )\n        case \"dayOff\":\n            return(\n                <div className='grey_day'>\n                    <div>{day}</div>\n                    <div></div>\n                    <div style={{fontSize: '24px', textAlign: \"center\"}}>{props.reason}</div>\n                </div>\n            )\n        default:\n            return(\n                <div className='day'>\n                    <div>{day}</div>\n                    <div></div>\n                    <div>{props.time}</div>\n                </div>\n            )\n    }\n    \n};\n\nexport default Day;","import React, {useEffect, useState} from \"react\";\nimport '../css/Calendar.css';\nimport Day from './Calendar_day';\nimport { getDatabase, ref, onValue, } from \"firebase/database\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nconst Calendar = (props) => {\n\n    //get first monday\n    const rolePopup = props.rolePopup;\n    const first = `${props.year}-${props.month}-1`;\n    let first_day = new Date(first);\n    let w = first_day.getDay();\n    while(w !== 1){\n        first_day.setDate(first_day.getDate() - 1);\n        w = first_day.getDay();\n    }\n    let current_day = first_day;\n    // load data from firebase\n    const id = props.id;\n    let data = null;\n    if(id !== '')\n        data = props.workers[id].attendance;\n    \n    const dayoffs = props.dayoffs;\n    const starting_time = props.additionalInfo.working_from;\n\n    //fill days array with 35 days to display on the screen\n    let days = [];   \n    let current_day_str = `${current_day.getDate()}-${current_day.getMonth()}-${current_day.getFullYear()}`;\n    let today = new Date();\n    for(let i = 0; i < 35; i++){\n        current_day_str = `${current_day.getFullYear()}-${('0' + (current_day.getMonth()+1)).slice(-2)}-${('0' + current_day.getDate()).slice(-2)}`;\n        if(id === ''){\n            if(dayoffs !== undefined && dayoffs[current_day_str] !== undefined){\n                days.push({date: current_day.getDate(), time: \"\", status: \"dayOff\", reason: dayoffs[current_day_str], current_day: current_day_str});\n            }\n            else if(i%7 === 5 || i%7 === 6){\n                //saturday and sunday\n                days.push({date: current_day.getDate(), time: \"\", status: \"dayOff\", current_day: current_day_str});\n            }\n            else {\n                days.push({date: current_day.getDate(), time: \"\", status: \"\", current_day: current_day_str});\n            }\n            current_day.setDate(current_day.getDate() + 1);\n            continue;\n        }\n        if(data !== undefined && data !== null && data[current_day_str] !== undefined && data[current_day_str] !== null && i % 7 < 5 && (!dayoffs || (dayoffs && !dayoffs[current_day_str])) ){\n            //day found at attendance\n            if(data[current_day_str].time !== \"\" && data[current_day_str].time !== undefined && data[current_day_str].time <= starting_time){\n                days.push({date: current_day.getDate(), time: data[current_day_str].time, status: \"onTime\", mood: data[current_day_str].mood});\n            }\n            else if(data[current_day_str].time !== \"\" && data[current_day_str].time !== undefined){\n                days.push({date: current_day.getDate(), time: data[current_day_str].time, status: \"late\", mood: data[current_day_str].mood});\n            }\n            else{\n                days.push({date: current_day.getDate(), time: \"\", status: \"absent\", reason: data[current_day_str].reason, current_day: current_day_str, reasonResponse: data[current_day_str].reason_response});\n            }\n        }\n        else{\n            //day was not found\n            if(dayoffs !== undefined && dayoffs[current_day_str] !== undefined){\n                days.push({date: current_day.getDate(), time: \"\", status: \"dayOff\", reason: dayoffs[current_day_str]});\n            }\n            else if(i%7 === 5 || i%7 === 6){\n                //saturday and sunday\n                days.push({date: current_day.getDate(), time: \"\", status: \"dayOff\"});\n            }\n            else if(current_day <= today) {\n                days.push({date: current_day.getDate(), time: \"\", status: \"absent\", reason: ((data && data[current_day_str]) ? data[current_day_str].reason : ''), current_day: current_day_str});\n            } else {\n                days.push({date: current_day.getDate(), time: \"\", status: \"\", current_day: current_day_str});\n            }\n        }\n        current_day.setDate(current_day.getDate() + 1);\n    }\n    let weeks = []\n    //divide 35 days into 5 weeks\n    const [dayData, setDayData] = useState({day: '', time: '', mood: ''});\n    const [redOpen, setRedOpen] = useState(false);\n    const [greenOpen, setGreenOpen] = useState(false);\n    const [whiteOpen, setWhiteOpen] = useState(false);\n\n    const handleRedOpen = () => {\n        setRedOpen(true);\n    }\n    const handleRedClose = () => {\n        setRedOpen(false);\n    }\n    const handleGreenOpen = () => {\n        setGreenOpen(true);\n    }    \n    const handleGreenClose = () => {\n        setGreenOpen(false);\n    }\n    const handleWhiteOpen = () => {\n        setWhiteOpen(true);\n    }    \n    const handleWhiteClose = () => {\n        setWhiteOpen(false);\n    }\n    for(let i = 0; i < 5; i++){\n        let week = days.slice(i*7, i*7+7).map((today) => \n        <th className='cell' onClick={() => {\n            setDayData({day: today.date, time: today.time, mood: today.mood, id: id, current_day: today.current_day});\n            (today.status==='absent') ? handleRedOpen() :\n            ((today.status === 'onTime' || today.status==='late') ? handleGreenOpen() : handleWhiteOpen())}}>\n            <Day day={today.date} time={today.time} status={today.status} reason={today.reason} reasonResponse={today.reasonResponse}/>\n        </th>\n        );\n        weeks.push(week);\n    }\n    /////\n    return(\n        <div className = \"calendar\">\n            <div style={{display: 'flex', alignContent: ''}}>\n                <Dialog\n                open={greenOpen}\n                onClose={handleGreenClose}>\n                    <DialogContent style={{padding: 0}}>\n                        {props.greenDayPopup(dayData, handleGreenClose)}\n                    </DialogContent>\n                </Dialog>\n            </div>\n            <Dialog\n            open={redOpen}\n            onClose={handleRedClose}>\n                <DialogContent style={{padding: 0}}>\n                    {props.redDayPopup(dayData, handleRedClose)}\n                </DialogContent>\n            </Dialog>\n            \n            <Dialog\n            open={whiteOpen}\n            onClose={handleWhiteClose}>\n                <DialogContent>\n                    {props.whiteDayPopup(dayData, handleWhiteClose)}\n                </DialogContent>\n            </Dialog>\n            <table>\n                <thead>\n                    <tr>\n                        {['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'].map((day) => \n                        <th className=\"head\">\n                            {day}\n                        </th>\n                        )}\n                    </tr>\n                </thead>\n\n                <tbody>\n                    {weeks.map((week) => \n                        <tr>\n                            {week}\n                        </tr>)}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default Calendar;","import React, { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { styled } from '@mui/material/styles';\nimport { db } from '../firebase';\nimport { ref, set } from 'firebase/database';\nimport '../css/Email.css';\n\n\nconst Input = styled('input')({\n    display: 'none',\n});\n\nconst Frame20 = (props) => {\n    const [text, setText] = useState('');\n    const reasonRef = ref(db, `workers/${props.id}/attendance/${props.current_day}/reason`);\n    const [fileName, setFileName] = useState('');\n    const uploadReason = () => {\n        console.log(text);\n        set(reasonRef, text);\n        props.close();\n    }\n    return (\n        <>\n            <div>\n                <form className=\"email-form\" style={{marginTop: 0}}>\n                    <p>\n                    <div style={{textAlign: 'center'}}>\n                        <h4>{props.month} {props.day}</h4>\n                    </div>\n                    </p>\n\n                    <p>\n                    <div>Enter a reason:</div>\n                            \n                    <div>\n                        <input type=\"text\" style={{width: '100%'}} onChange={(event) => {setText(event.target.value)}}/>\n                    </div>\n\n                    </p>\n\n                    <div>Upload files (i.e: medical certificate):</div>\n\n                    <div style={{marginBottom: '0.8vw', display: 'flex', alignItems: 'center'}}>\n                        <label htmlFor=\"contained-button-file\">\n                            <Input accept=\"image/*\" id=\"contained-button-file\" multiple type=\"file\" onChange={(e) => setFileName(e.target.files[0].name)}/>\n                            <Button component=\"span\" variant=\"outlined\">\n                                Upload\n                            </Button>\n                        </label>\n                        <div style={{marginLeft: '0.5vw', fontSize: '0.8em'}}> {fileName} </div>\n                     </div>\n\n\n                    <Button variant=\"contained\" style={{marginRight: 'auto', marginLeft: 'auto', display: 'block'}} onClick={uploadReason}>Submit</Button>\n                </form>\n            </div>\n        </>\n\n    )\n};\n\nexport default Frame20;","import React, { useState } from \"react\";\n\nimport '../css/Frame19.css';\n\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\nimport Button from \"@mui/material/Button\"\nimport Avatar from '@mui/material/Avatar';\n\n\nconst Frame19 = (props) => {\n    return (\n        // \n        <>\n            <div className=\"frame19-header\">\n                <Avatar alt={props.workerName} src={props.workerPhoto} sx={{width: 40, height: 40}}/>\n                <div style={{marginLeft: '1vw'}}>\n                    <p style={{marginBottom: 0, fontWeight: 'bold'}}> {props.workerName} </p>\n                    <p style={{fontSize: '0.9em', color: '#262834'}}> {props.month}, {props.day} </p>\n                </div>\n            </div>\n            <div className='frame19-content'>\n                <img style={{width: '400px'}} src=\"https://static.remove.bg/remove-bg-web/126e8851f6e88bf644890fafdf1b0d82aff0629e/assets/start-1abfb4fe2980eabfbbaaa4365a0692539f7cd2725f324f904565a9a744f8e214.jpg\"></img>\n            </div>\n            <div className=\"frame19-footer\">\n                <p>\n                    <span style={{fontWeight: 'bold'}}> Check in: </span> {props.time}\n                </p>\n                <p>\n                <span style={{fontWeight: 'bold'}}> Mood: </span> {props.mood}\n                </p>    \n            </div>\n        </>\n    )\n};\n\nexport default Frame19;","import React, {useState, useEffect} from \"react\";\nimport '../css/Calendar.css';\nimport Calendar from './Calendar';\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { getDatabase, ref, onValue, } from \"firebase/database\";\nimport { auth } from '../firebase';\nimport { useNavigate } from \"react-router-dom\";\nimport Frame20 from \"./Frame20\";\nimport Frame19 from \"./Frame19\";\nimport CircularProgress from '@mui/material/CircularProgress';\n\n\nconst Worker = ({uid, workers, dayoffs, additionalInfo}) => {\n    let today = new Date();\n    const [year, setYear] = useState(today.getFullYear());\n    const [month, setMonth] = useState(today.getMonth() + 1);\n    const month_names = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \n        \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n    \n    const navigate = useNavigate();\n    \n    useEffect(() => {\n        if(!uid) {\n            navigate('/login');\n        }    \n    }, [uid]);\n\n    // let extreme_temp = 0;\n    // let start_time;\n    // let end_time;\n    // if(additionalInfo){\n    //     extreme_temp = additionalInfo['extreme_temp'];\n    //     start_time = additionalInfo['working_from'];\n    //     end_time = additionalInfo['working_to'];\n    // }\n\n    const redDayPopup = (dayData, close) => (\n        <Frame20 day={dayData.day} month={month_names[(month-1)%12]} id={dayData.id} current_day={dayData.current_day} close={close}/>\n    )\n    const greenDayPopup = (dayData, close) => \n        (dayData !== undefined) ?  \n        (<Frame19 day={dayData.day} month={month_names[(month-1)%12]} time={dayData.time} mood={dayData.mood} workerName={workers[uid].name} workerPhoto={workers[uid].photo} />)\n        :\n        (<Frame19 day=\"error\" month={month_names[(month-1)%12]} time=\"error\" workerName={workers[uid].name} workerPhoto={workers[uid].photo}/>)\n    \n    return(\n        (!uid) ?\n            <div className=\"loading-container\">\n                <CircularProgress />\n            </div>\n            :\n            <div className = \"page\">\n                <div className=\"month\">\n                    <div onClick={() => {\n                        if(month - 1 < 1){\n                            setYear(year - 1);\n                            setMonth((month + 11));\n                        }\n                        else{\n                            setMonth((month - 1));\n                        }\n                    }\n                    }>\n                        <ArrowBackIosIcon/>\n                    </div>\n                    \n                    {month_names[(month-1)%12]}\n\n                    <div onClick={() => {\n                        if(month + 1 > 12){\n                            setYear(year + 1);\n                            setMonth((month - 11));\n                        }\n                        else{\n                            setMonth((month + 1));\n                        }\n                    } }>\n                        <ArrowForwardIosIcon/>\n                    </div>\n                </div>\n                <div className = \"calendar\">\n                    <Calendar\n                        year={year} \n                        month={(month)} id={uid} \n                        redDayPopup={redDayPopup} \n                        greenDayPopup={greenDayPopup}\n                        whiteDayPopup={()=>{}}\n                        workers={workers}\n                        dayoffs={dayoffs}\n                        additionalInfo={additionalInfo}\n                        />\n                </div>\n            </div>\n    )\n}\n\nexport default Worker;\n\n// const days = [\n//     {\n//         date: '2021-1-1',\n//         time: '01:22',\n//     },\n//     {\n//         date:'2021-1-2',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-3',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-4',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-5',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-6',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-7',\n//         time: '02:33',\n//     },\n//     {\n//         date: '2021-1-8',\n//         time: '01:22',\n//     },\n//     {\n//         date:'2021-1-9',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-10',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-11',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-12',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-13',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-14',\n//         time: '02:33',\n//     },\n//     {\n//         date: '2021-1-15',\n//         time: '01:22',\n//     },\n//     {\n//         date:'2021-1-16',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-17',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-18',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-19',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-20',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-21',\n//         time: '02:33',\n//     },\n//     {\n//         date: '2021-1-22',\n//         time: '01:22',\n//     },\n//     {\n//         date:'2021-1-23',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-24',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-25',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-26',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-27',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-28',\n//         time: '02:33',\n//     },\n//     {\n//         date: '2021-1-29',\n//         time: '01:22',\n//     },\n//     {\n//         date:'2021-1-30',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-1',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-2',\n//         time: '02:33',\n//     },\n//     {\n//         date:'2021-1-3',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-4',\n//         time: '02:33',\n//     },{\n//         date:'2021-1-5',\n//         time: '02:33',\n//     },\n// ];","import React, { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { styled } from '@mui/material/styles';\nimport { db } from '../firebase';\nimport '../css/Email.css';\nimport Link from \"@mui/material/Link\";\nimport { ref, onValue, set } from 'firebase/database';\n\nconst Frame21 = (props) => {\n    const reasonRef = ref(db, `workers/${props.id}/attendance/${props.current_day}/reason`);\n    const reasonResponseRef = ref(db, `workers/${props.id}/attendance/${props.current_day}/reason_response`)\n    const [reason, setReason] = useState('');\n    onValue(reasonRef, (snap) => {\n        if(snap.exists() && reason === ''){\n            setReason(snap.val());\n        }\n    })\n    const approve = () => {\n        set(reasonResponseRef, true);\n        props.close();\n    }\n    const reject = () => {\n        set(reasonResponseRef, false);\n        props.close();\n    }\n\n    let fileName = 'None';\n    if(reason && reason.length) {\n        fileName = <Link> {reason.split(' ')[0] + '.jpg'} </Link>\n    }\n\n    return (\n        <>\n            <div>\n                <form className=\"email-form\" style={{marginTop: 0}}>\n                    <p>\n                    <div style={{textAlign: 'center'}}>\n                        <h4>{props.month} {props.day}</h4>\n                    </div>\n                    </p>\n\n                    <p>\n                    <div>Reason:</div>\n                            \n                    <div>\n                        {reason}\n                    </div>\n\n                    </p>\n\n                    <p>\n                        <div>Uploaded files:</div>\n\n                        <div>\n                            {fileName}\n                        </div>\n                    </p>\n\n                    <p>\n                        <div style={{display: 'flex', flexDirection: 'row'}}>\n                            <div>\n                                <Button variant=\"outlined\" style={{marginRight: 'auto', marginLeft: 'auto', display: 'block'}} onClick={reject}>Reject</Button>\n                            </div>\n\n                            <div style={{marginLeft: '1vw'}}>\n                                <Button variant=\"contained\" style={{marginRight: 'auto', marginLeft: 'auto', display: 'block'}} onClick={approve}>Approve</Button>\n                            </div>\n                        </div>\n                    </p>\n                </form>\n            </div>\n        </>\n\n    )\n};\n\nexport default Frame21;","import React from 'react';\nimport '../css/NoMatch.css';\n\nexport default function NoMatch() {\n    return (\n        <div>\n            Error 404\n        </div>\n    )\n}\n","import React, {useState} from \"react\";\nimport renderToString from \"react-dom/server\";\nimport '../css/Calendar.css';\nimport Calendar from './Calendar';\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { getDatabase, ref, onValue, set} from \"firebase/database\";\nimport { auth } from '../firebase';\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Frame21 from \"./Frame21\";\nimport Frame19 from \"./Frame19\";\nimport NoMatch from \"./NoMatch\";\n\n\nconst ManagerWorker = ({workers, dayoffs, additionalInfo}) => {\n    // TODO pass props.name and props.id for a worker\n    const db = getDatabase();\n    const {uid} = useParams();\n    // Authenticate user\n    // const [id, setId] = useState('');\n    // const [idWorker, setIdWorker] = useState(props.id);\n    const idWorker = uid;\n    let exists = uid in workers;\n    // const [isManager, setIsManager] = useState(false);\n    // const navigate = useNavigate();\n    \n    // auth.onAuthStateChanged((user) => {\n    //     if (user) {\n    //         console.log('authenticated! ' + user.uid);\n    //     } \n    //     else {\n    //         navigate('/login');\n    //     }\n    //   });\n    // const user = auth.currentUser;\n    // if(!isManager && user !== null && user !== undefined){\n    //     onValue(ref(db, `workers/${user.uid}/role`), (snap) => {\n    //         if(snap.val() === 'manager'){\n    //             setIsManager(true);\n    //         }\n    //         else{\n    //             navigate('/worker');\n    //         }\n    //     })\n    // }\n    // if(id === '' && user){\n    //     setId(user.uid);\n    //     console.log('updated ' + id);\n    // }\n    // console.log('updated ' + id);\n    \n    let today = new Date();\n    const [year, setYear] = useState(today.getFullYear());\n    const [month, setMonth] = useState(today.getMonth() + 1);\n    const month_names = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \n        \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n    \n    const redDayPopup = (dayData, close) => (\n        <Frame21 day={dayData.day} month={month_names[(month-1)%12]} close={close} current_day={dayData.current_day} id={dayData.id}/>\n    )\n    const greenDayPopup = (dayData, close) => \n        (dayData !== undefined) ?  \n        (<Frame19 day={dayData.day} month={month_names[(month-1)%12]} time={dayData.time} mood={dayData.mood} close={close} workerName={workers[uid].name} workerPhoto={workers[uid].photo}/>)\n        :\n        (<Frame19 day=\"error\" month={month_names[(month-1)%12]} time=\"error\" close={close} workerName={workers[uid].name} workerPhoto={workers[uid].photo}/>)\n    \n    return(\n        exists \n        ?\n        <div className = \"page\">\n            <div className = \"settings\">\n                <div className=\"setting\" style={{fontSize: '26px', width: '400px'}}>\n                    {workers[idWorker].name}'s profile\n                </div>\n                <div className=\"month\" style={{marginBottom: '10px'}}>\n                    <div onClick={() => {\n                        if(month - 1 < 1){\n                            setYear(year - 1);\n                            setMonth((month + 11));\n                        }\n                        else{\n                            setMonth((month - 1));\n                        }\n                    }\n                    }>\n                        <ArrowBackIosIcon/>\n                    </div>\n                    \n                    {month_names[(month-1)%12]}\n\n                    <div onClick={() => {\n                        if(month + 1 > 12){\n                            setYear(year + 1);\n                            setMonth((month - 11));\n                        }\n                        else{\n                            setMonth((month + 1));\n                        }\n                    } }>\n                        <ArrowForwardIosIcon/>\n                    </div>\n                </div>\n                <div className=\"setting\" style={{width: '400px'}}>\n                </div>\n            </div>\n            <div className = \"calendar\">\n                <Calendar \n                    year={year} \n                    month={(month)} \n                    id={idWorker} \n                    redDayPopup={redDayPopup} \n                    greenDayPopup={greenDayPopup} \n                    whiteDayPopup={()=>{}}\n                    workers={workers}\n                    dayoffs={dayoffs}\n                    additionalInfo={additionalInfo}\n                />\n            </div>\n        </div>\n        :\n        <NoMatch />\n    )\n}\n\nexport default ManagerWorker;","import React, { useState } from 'react'\nimport { auth, signInWithEmailAndPassword, registerWithEmailAndPassword } from '../firebase';\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { create } from '@mui/material/styles/createTransitions';\nimport axios from 'axios';\n\n\nexport default function WorkerSignup({setError}) {\n    const navigate = useNavigate();\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [fullName, setFullName] = useState(\"\");\n    const [code, setCode] = useState(\"\");\n    const [position, setPosition] = useState(\"\");\n    const [file, setFile] = useState(null);\n\n\n    const handleFormSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            let uid = await registerWithEmailAndPassword('worker', fullName, position, email, password);\n            console.log('UID: ', uid);\n            // TODO: upload photo to backend\n            let fileFormData = new FormData();\n            fileFormData.append(\"student-id\", uid);\n            // fileFormData.append(\"class-id\", classId);\n            fileFormData.append(\"student-image\", file, file.name);\n\n            let res = await axios.post(\"/api/students/upload-image\", fileFormData, {\n                headers: {\n                    \"Content-Type\": \"multipart/form-data\"\n                }\n            });\n            \n            // }).then((response) => {\n            //     console.log(\"The response is: \", response);\n            // }).catch((error) => {\n            //     console.error(\"The error is: \", error);\n            // });\n            navigate('/login');\n        } catch (err) {\n            setError(err.message);\n        }\n    }\n\n    return (\n        <form className=\"signup-form\">\n            <div className=\"form-group\">\n                <label>Full name</label>\n                <input \n                    type=\"text\" \n                    className=\"form-control\" \n                    placeholder=\"Enter full name\"\n                    onChange={(e) => setFullName(e.target.value)}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label> Picture </label>\n                <input \n                    type=\"file\"\n                    name = \"student-image\" \n                    onChange = {event => setFile(event.target.files[0])}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label>Group code</label>\n                <input \n                    type=\"text\" \n                    className=\"form-control\" \n                    placeholder=\"Enter group code\"\n                    onChange={(e) => setCode(e.target.value)}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label>Position</label>\n                <input \n                    type=\"text\" \n                    className=\"form-control\" \n                    placeholder=\"Enter your position\"\n                    onChange={(e) => setPosition(e.target.value)}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label>Email address</label>\n                <input \n                    type=\"email\" \n                    className=\"form-control\"\n                    placeholder=\"Enter email\" \n                    onChange={(e) => setEmail(e.target.value)}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label>Password</label>\n                <input \n                    type=\"password\" \n                    className=\"form-control\" \n                    placeholder=\"Enter password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                />\n            </div>\n            \n            \n            <div  style={{alignItems: \"center\", textAlign:\"center\", marginTop: 10}}>\n                <button \n                    className=\"btn btn-primary btn-block\"\n                    onClick={handleFormSubmit}\n                >\n                    Sign up\n                </button>\n            </div>\n        </form>\n    )\n}\n","import React, { useState } from 'react';\nimport { auth, signInWithEmailAndPassword, registerWithEmailAndPassword } from '../firebase';\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { create } from '@mui/material/styles/createTransitions';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport IconButton from '@mui/material/IconButton';\nimport Snackbar from '@mui/material/Snackbar';\nimport CloseIcon from '@mui/icons-material/Close';\n\n\nfunction makeid(length) {\n    let result           = '';\n    let characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < length; i++ ) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n}\n\nexport default function ManagerSignnup({setError}) {\n    const navigate = useNavigate();\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [fullName, setFullName] = useState(\"\");\n    const [code, setCode] = useState(\"\");\n    const [position, setPosition] = useState(\"\");\n    const [generated, setGenerated] = useState(null);\n    const [open, setOpen] = React.useState(false);\n    const bottom = 'bottom';\n    const right = 'right';\n\n    let groupcodeElement = <input \n        type=\"text\" \n        className=\"form-control\" \n        placeholder=\"Enter group code\"\n        onChange={(e) => setCode(e.target.value)}\n    />\n\n    if(generated !== null) {\n        groupcodeElement = <input \n            type=\"text\" \n            className=\"form-control\" \n            disabled\n            value={generated}    \n        />\n    }\n\n    const generateCode = () => {\n        console.log('Clicked!');\n        setGenerated(makeid(32));\n    }\n\n    const copyGenerated = () => {\n        navigator.clipboard.writeText(generated).then(function() {\n            console.log('Async: Copying to clipboard was successful!');\n        }, function(err) {\n            console.error('Async: Could not copy text: ', err);\n        });\n        setOpen(true);\n    }\n\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway')\n            return;\n        setOpen(false);\n    };\n\n    const action = (\n        <React.Fragment>\n          <IconButton\n            size=\"small\"\n            aria-label=\"close\"\n            color=\"inherit\"\n            onClick={handleClose}\n          >\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n    );\n    return (\n        <form className=\"signup-form\">\n            <div className=\"form-group\">\n                <label>Full name</label>\n                <input \n                    type=\"text\" \n                    className=\"form-control\" \n                    placeholder=\"Enter full name\"\n                    onChange={(e) => setFullName(e.target.value)}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"group-code-label\">\n                    <div className=\"group-code-text\"> Group code </div>\n                    {\n                        generated !== null \n                            ?\n                            <>\n                                <a className=\"link-text\" href='javascript:void(0);' onClick={copyGenerated} style={{marginLeft: 'auto'}}> copy </a>\n                                <Snackbar\n                                    anchorOrigin={{vertical: bottom, horizontal: right}}\n                                    open={open}\n                                    autoHideDuration={1000}\n                                    onClose={handleClose}\n                                    message=\"Group code was copied!\"\n                                    action={action}\n                                />\n                            </>\n                            :\n                            <a className=\"link-text\" href='javascript:void(0);' onClick={generateCode} style={{marginLeft: 'auto'}}> generate </a>\n                    }\n                </label>\n                {groupcodeElement}\n            </div>\n            <div className=\"form-group\">\n                <label>Email address</label>\n                <input \n                    type=\"email\" \n                    className=\"form-control\"\n                    placeholder=\"Enter email\" \n                    onChange={(e) => setEmail(e.target.value)}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label>Password</label>\n                <input \n                    type=\"password\" \n                    className=\"form-control\" \n                    placeholder=\"Enter password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                />\n            </div>\n            <div  style={{alignItems: \"center\", textAlign:\"center\", marginTop: 10}}>\n                <button \n                    className=\"btn btn-primary btn-block\"\n                    onClick={async (e) => {\n                        e.preventDefault();\n                        try {\n                            await registerWithEmailAndPassword('manager', fullName, null, email, password);\n                            navigate('/login');\n                        } catch (err) {\n                            console.log(\"ERROR caght\", err.message);\n                            setError(err.message);\n                        }\n                    }}\n                >\n                    Sign up\n                </button>\n            </div>\n        </form>\n    )\n}\n","import React, {useState, useEffect} from 'react'\nimport { useNavigate, Link } from \"react-router-dom\";\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\nimport '../css/Signup.css';\nimport Input from '@mui/material/Input';\nimport InputLabel from '@mui/material/InputLabel';\nimport FormHelperText from '@mui/material/FormHelperText';\nimport WorkerSignup from './Worker_signup';\nimport ManagerSignnup from './ManagerSignnup';\n\n\nexport default function Signup({uid}) {\n    const [type, setType] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(false);\n\n    const navigate = useNavigate();\n\n    const handleChange = (event) => {\n        setType(event.target.value);\n    };\n\n    useEffect(() => {\n        if(uid) {\n            navigate('/');\n        }    \n    }, [uid]);\n    \n    return (\n        (uid || loading) ?\n            <div className=\"loading-container\">\n                <CircularProgress />\n            </div>\n            :      \n            <>\n            { error && <Alert severity=\"error\">Unexpected error happened. Error message: {error} </Alert> }      \n            <div className=\"auth-wrapper\">  \n                <div className=\"auth-inner\">       \n                    <h3>Sign up</h3> \n                    <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\">You are: </FormLabel>\n                        <RadioGroup\n                            aria-label=\"gender\"\n                            name=\"controlled-radio-buttons-group\"\n                            value={type}\n                            onChange={handleChange}\n                            className=\"radio-group\"\n                        >\n                            <FormControlLabel value=\"manager\" control={<Radio />} label=\"Manager\" />\n                            <FormControlLabel value=\"worker\" control={<Radio />} label=\"Worker\" />\n                        </RadioGroup>\n                    </FormControl>\n                    {\n                        type === \"worker\" ? <WorkerSignup setError={setError}/>\n                        : type === \"manager\" ? <ManagerSignnup setError={setError}/>\n                        : null\n                    }\n                    <p className=\"forgot-password text-right\">\n                        Already have an <Link to=\"/login\" className=\"link\"> account? </Link>\n                    </p>\n                </div>\n                \n            </div>\n            </>\n    )\n}\n","import React, { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { styled } from '@mui/material/styles';\nimport '../css/Email.css';\nimport Link from \"@mui/material/Link\";\nimport { ref, set} from \"firebase/database\";\nimport { db } from '../firebase';\n\nconst Input = styled('input')({\n    display: 'none',\n});\n\nconst Frame27 = (props) => {\n    const [text, setText] = useState('');\n    const reasonRef = ref(db, `dayoffs/${props.current_day}`);\n    const submit = () => {\n        set(reasonRef, text);\n        props.close();\n    }\n    return (\n        <>\n            <div>\n                <form className=\"email-form\">\n                    <p>\n                    <div style={{textAlign: 'center'}}>\n                        <h4>{props.month} {props.day}</h4>\n                    </div>\n                    </p>\n\n                    <p>\n                    <div>Reason for day off:</div>\n                            \n                    <input id=\"title\" type=\"text\" onChange={(event) => setText(event.target.value)}/>\n\n\n                    </p>\n\n                    <p>\n                        <div style={{display: 'flex', flexDirection: 'row'}}>\n                            <div>\n                                <Button variant=\"outlined\" style={{marginRight: 'auto', marginLeft: 'auto', display: 'block'}} onClick={props.close}>Cancel</Button>\n                            </div>\n\n                            <div>\n                                <Button variant=\"contained\" style={{marginRight: 'auto', marginLeft: 'auto', display: 'block'}} onClick={submit}>Submit</Button>\n                            </div>\n                        </div>\n                    </p>\n                </form>\n            </div>\n        </>\n\n    )\n};\n\nexport default Frame27;","import React from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport '../css/WorkerOverviewGraph.css';\nimport { getYMD } from '../helpers';\nimport { styled } from '@mui/material/styles';\nimport Tooltip, { tooltipClasses } from '@mui/material/Tooltip';\nimport Typography from '@mui/material/Typography';\nimport { Link } from \"react-router-dom\";\n\n\n\nconst HtmlTooltip = styled(({ className, ...props }) => (\n    <Tooltip {...props} classes={{ popper: className }} />\n  ))(({ theme }) => ({\n    [`& .${tooltipClasses.tooltip}`]: {\n      maxWidth: 220,\n      border: '1px solid #f5f5f9',\n    },\n}));\n\nexport default function WorkerOverviewGraph({workerId, workerData, dayoffs, additionalInfo}) {\n    \n    let finishDate = new Date();\n    finishDate.setMonth(finishDate.getMonth() + 1);\n    finishDate.setDate(0);\n    let startDate = new Date();\n    startDate.setMonth(finishDate.getMonth() - 2);\n    startDate.setDate(1);\n\n    let namesOfDayOfWeek = ['M', 'T', 'W', 'T', 'F', 'S', 'S'];\n    let namesOfDayOfWeekP = namesOfDayOfWeek.map(name => <p className=\"name-of-day-of-week\"> {name} </p>);\n\n    let monthBlocks = [];\n    let cur = [];\n    let prev = null;\n    let lates = 0;\n    let misses = 0;\n\n    // console.log(startDate.toLocaleDateString(), finishDate.toLocaleDateString());\n    \n    for(let d = new Date(startDate.getTime()); d <= finishDate; d.setDate(d.getDate() + 1)) {\n        if(prev !== null && prev.getMonth() != d.getMonth()) {\n            monthBlocks.push(\n                <div className=\"month-block-container\" key={monthBlocks.length}>\n                    <p style={{width:50}}> {prev.toLocaleString('default', {month: 'short'})} </p>\n                    <div className=\"mini-squares-container\">\n                        {[...cur]}\n                    </div>\n                </div>\n            );\n            cur = [];\n        } \n\n        // console.log(workerData);\n\n        let className = \"mini-square\";\n        let key = getYMD(d);\n        let shift = ((d.getDay() - 1 + 7) % 7) + 1; // 1 - Monday, ... 7 - Sunday\n        let today = new Date();\n        let text = '';\n        if(shift <= 5 && (!dayoffs[key]) && d <= today) {\n            if(workerData.attendance && workerData.attendance[key]) {\n                console.log(workerData.attendance[key].reason_response);\n                if(workerData.attendance[key].reason_response !== null && workerData.attendance[key].reason_response !== undefined) {\n                    if(workerData.attendance[key].reason_response) {\n                        className += ' mini-square-green';\n                        text = 'Reason was approved';\n                    } else {\n                        className += ' mini-square-red';\n                        text = 'Reason was rejected';\n                        misses ++;\n                    }\n                } else {\n                    if(workerData.attendance[key].time <= additionalInfo.working_from) {\n                        className += ' mini-square-green';\n                    } else {\n                        className += ' mini-square-yellow';\n                        lates ++;\n                    }\n                    text = `Check-in: ${workerData.attendance[key].time}`;    \n                }\n            } else {\n                className += ' mini-square-red';\n                misses ++;\n                text = 'Missed';\n            }\n        } else if(shift > 5) {\n            text = 'Weekend';\n        } else if(dayoffs[key]) {\n            text = `Dayoff: ${dayoffs[key]}`;\n        }\n\n        \n        if(cur.length === 0) {\n            cur.push(\n                <HtmlTooltip\n                    disableInteractive\n                    title={\n                    <React.Fragment>\n                        <p> {`${d.toLocaleString('default', {month: 'long'})} ${d.getDate()}`} </p>\n                        <p> {text} </p>\n                    </React.Fragment>\n                    }\n                >\n                    <div className={className} key={cur.length} style={{gridColumnStart: shift}} />\n                </HtmlTooltip> \n            );\n        } else {\n            cur.push(\n                <HtmlTooltip\n                    disableInteractive\n                    title={\n                    <React.Fragment>\n                        <p> {`${d.toLocaleString('default', {month: 'long'})} ${d.getDate()}`} </p>\n                        <p> {text} </p>\n                    </React.Fragment>\n                    }\n                >\n                    <div className={className} key={cur.length} />\n                </HtmlTooltip> \n            );\n        }\n        prev = new Date(d.getTime());\n    }\n    if(cur.length) {\n        monthBlocks.push(\n            <div className=\"month-block-container\" key={monthBlocks.length}>\n                <p> {prev.toLocaleString('default', {month: 'short'})} </p>\n                <div className=\"mini-squares-container\">\n                    {[...cur]}\n                </div>\n            </div>\n        );\n    }\n    return (\n        <div className=\"worker-overview-graph\">\n            <div className=\"worker-information\">\n                <Avatar alt={workerData.name} src={workerData.photo} sx={{width: 70, height: 70}}/>\n                <div className=\"worker-information-text\">\n                    <p> {workerData.position} </p>\n                    <p> {workerData.name} </p>\n                    <div className=\"late-missed\">\n                        <p className=\"late-text\"> {lates} late </p>\n                        <p className=\"miss-text\"> {misses} missed </p>\n                    </div>\n                </div>\n\n                <Link to={`/manager-worker/${workerId}`} style={{marginLeft: 'auto'}} >\n                    see more\n                </Link>\n            </div>\n            <div className=\"name-of-container\">\n                <div style={{width:50}} /> \n                <div className=\"names-of-day-of-week\">\n                    {namesOfDayOfWeekP}\n                </div>\n            </div>\n            {monthBlocks}\n        </div>\n    )\n}\n","import React from 'react'\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport '../css/AttendanceGraph.css';\nimport { getYMD } from '../helpers';\n\n\nexport default function AttendanceGraph({workers, dayoffs, additionalInfo}) {\n    let data = [];\n\n    let today = new Date();\n    let startDate = new Date();\n    startDate.setMonth(today.getMonth() - 2);\n    startDate.setDate(1);\n\n    let ticks = [];\n    let i = 0;\n\n    for(let d = new Date(startDate.getTime()); d <= today; d.setDate(d.getDate() + 1)) {\n        // console.log(d.toLocaleDateString());\n        if(d.getDay() === 0 || d.getDay() === 6) \n            continue;        \n\n        let key = getYMD(d);\n        \n        if(dayoffs[key])\n            continue;\n\n        let misses = 0, totalWorkers = 0;\n        for(let workerKey in workers) {\n            if(workers[workerKey].role === \"manager\")\n                continue;\n            // console.log(workers[workerKey]);\n            if(workers[workerKey].attendance && (!workers[workerKey].attendance[key])) {\n                misses ++;\n            }\n            totalWorkers ++;\n        }\n\n\n        // console.log('total workers: ', totalWorkers);\n        // console.log('misses: ', misses);\n        // console.log(key, misses);\n\n        data.push({\n            name: `${d.toLocaleString('default', {month: 'long'})} ${d.getDate()}`,\n            rate: (((totalWorkers - misses) / Math.max(1, totalWorkers)) * 100)\n        });\n\n        if(d.getDate() === 1)\n            ticks.push(i);\n        i += 1;\n    }\n    \n    // console.log(data);\n    // console.log(ticks);\n    \n    console.log('AttendanceGraph rendered');\n\n    return (\n            <div className=\"attendance-graph-responsive-container\">\n                <p className=\"graph-title\"> Attendance Rate </p>\n                <ResponsiveContainer height={200} width=\"100%\">\n                    <AreaChart\n                        data={data}\n                        margin={{\n                            top: 10,\n                            right: 30,\n                            left: 0,\n                            bottom: 0,\n                        }}\n                        >\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        {/* <XAxis dataKey=\"name\"  tickFormatter={(item) => item.split(' ')[0]} allowDuplicatedCategory={false} interval={30} /> */}\n                        <XAxis ticks={ticks} tickFormatter={(item) => data.length && data[item].name.split(' ')[0]}/>\n                        <YAxis />\n                        <Tooltip labelFormatter={(item) => data.length && data[item].name} formatter={(value, name, props) => `${value}%`}/>\n                        <Area type=\"monotone\" dataKey=\"rate\" stroke=\"#a5cda9\" fill=\"#a5cda9\" />\n                    </AreaChart>\n                </ResponsiveContainer>\n            </div>\n    )\n}\n","import React, {useState, useEffect} from 'react';\nimport { db } from '../firebase';\nimport {ref, child, get} from 'firebase/database';\nimport WorkerOverviewGraph from './WorkerOverviewGraph';\nimport AttendanceGraph from './AttendanceGraph';\nimport '../css/Dashboard.css';\nimport { useNavigate } from \"react-router-dom\";\nimport CircularProgress from '@mui/material/CircularProgress';\n\n\nexport default function Dashboard({uid, workers, dayoffs, additionalInfo}) {\n\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if(!uid) {\n            navigate('/');\n        }    \n    }, [uid]);\n    \n    console.log('Dashboard rendered!');\n\n    let workerOverviewGraphs = Object.keys(workers).filter(key => workers[key].role === \"worker\").map((key, index) => {\n        return <WorkerOverviewGraph workerId={key} workerData={workers[key]} dayoffs={dayoffs} additionalInfo={additionalInfo} key={key}/>\n    });\n    return (\n        (!uid) ?\n            <div className=\"loading-container\">\n                <CircularProgress />\n            </div>\n            :\n            <div className=\"dashboard-parent\">\n                <div className=\"dashboard-main\">\n                    <AttendanceGraph workers={workers} dayoffs={dayoffs} additionalInfo={additionalInfo}/>\n                    <div className=\"overview-graphs-container\">\n                        {workerOverviewGraphs}\n                    </div>\n                </div>\n            </div>\n    )\n}\n","import React, { useEffect, useState } from 'react';\nimport { useLocation, Link, useNavigate } from \"react-router-dom\";\nimport { getDatabase, ref, onValue, child, get } from \"firebase/database\";\nimport { db, auth, logout } from '../firebase';\nimport '../css/Header.css';\nimport Avatar from '@mui/material/Avatar';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\n\n\nexport default function Header({uid, workers, dayoffs, additionalInfo}) {\n    let location = useLocation();\n    // const [uid, setUid] = useState(null);\n    // const [workers, setWorkers] = useState(null);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n    const navigate = useNavigate();\n    const handleOpen = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };    \n\n    if(location.pathname === '/login' || location.pathname === '/signup')\n        return null;\n\n    // console.log(uid, workers);\n\n    if(!uid || !workers)\n        return null;\n\n    let links = [];\n    let position = '';\n    links.push(<Link to=\"/\" className=\"link\"> Home </Link>);        \n    if(workers[uid].role === \"manager\") {\n        links.push(<Link to=\"/email\" className=\"link\"> Notify </Link>);\n        links.push(<Link to=\"/manager-settings\" className=\"link\"> Settings </Link>);\n        position = 'Manager';\n    } else {\n        position = workers[uid].position;\n    }\n    return (\n        <div className=\"header-container\"> \n            <div className=\"links-container\">\n                {links}\n            </div>\n            <div className=\"logo-container\">\n                <h1> Attender </h1>\n            </div>\n            \n            <div \n                className=\"profile-container\" \n                onClick={handleOpen}\n                aria-controls=\"basic-menu\"\n                aria-haspopup=\"true\"\n                aria-expanded={open ? 'true' : undefined}\n            >\n                <Avatar alt={workers[uid].name} src={workers[uid].photo} sx={{width: 40, height: 40}}/>\n                <div className='profile-text'>\n                    <p> {workers[uid].name} </p>\n                    <p style={{fontSize: '0.9em'}}> {position} </p>\n                </div>\n            </div>\n    \n            <Menu\n                id=\"basic-menu\"\n                anchorEl={anchorEl}\n                open={open}\n                disableAutoFocusItem\n                onClose={handleClose}\n                MenuListProps={{\n                'aria-labelledby': 'basic-button',\n                }}\n            >\n                <MenuItem \n                    onClick={() => {\n                        handleClose();\n                        auth.signOut().then(() => {\n                            navigate('/login');\n                        }).catch(error => {\n                            console.log(error);\n                        });\n                    }}\n                >\n                    Logout\n                </MenuItem>\n            </Menu>\n        </div>\n    )\n}\n","import React, {useEffect} from 'react';\nimport { useLocation, Link } from \"react-router-dom\";\nimport '../css/Footer.css';\nimport Divider from '@mui/material/Divider';\nimport Icon from '@mui/material/Icon';\nimport FacebookIcon from '@mui/icons-material/Facebook';\nimport LinkedInIcon from '@mui/icons-material/LinkedIn';\nimport TwitterIcon from '@mui/icons-material/Twitter';\nimport YouTubeIcon from '@mui/icons-material/YouTube';\nimport InstagramIcon from '@mui/icons-material/Instagram';\n\n\nexport default function Footer({uid, workers, dayoffs, additionalInfo}) {\n    let location = useLocation();\n    if(location.pathname === '/login' || location.pathname === '/signup')\n        return null;\n    if(!uid || !workers)\n        return null;\n    let links = [];\n    links.push(<Link to=\"/\" className=\"footer-link\"> Home </Link>);        \n    if(workers[uid].role === \"manager\") {\n        links.push(<Link to=\"/email\" className=\"footer-link\"> Notify </Link>);\n        links.push(<Link to=\"/manager-settings\" className=\"footer-link\"> Settings </Link>);\n    }\n\n    return (\n        <div className=\"footer\">\n            <p className=\"copyright\"> &copy; 2021 Attender </p>\n            <Divider className=\"divider\" />\n            <div className=\"footer-bottom\">\n                <div className=\"footer-links\">\n                    {links}\n                </div>\n                <div className=\"social-media\">\n                    <FacebookIcon className=\"footer-icon\"/>\n                    <LinkedInIcon className=\"footer-icon\" />\n                    <TwitterIcon className=\"footer-icon\" />\n                    <YouTubeIcon className=\"footer-icon\" />\n                    <InstagramIcon className=\"footer-icon\" />\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React, {useState} from \"react\";\nimport renderToString from \"react-dom/server\";\nimport '../css/Calendar.css';\nimport Calendar from './Calendar';\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { getDatabase, ref, onValue, set} from \"firebase/database\";\nimport { auth } from '../firebase';\nimport { useNavigate } from \"react-router-dom\";\nimport Frame27 from \"./Frame27\";\n\nconst ManagerSettings = ({dayoffs, additionalInfo}) => {\n    const db = getDatabase();\n\n    // Authenticate user\n    // const [id, setId] = useState('');\n    \n    let today = new Date();\n    const [year, setYear] = useState(today.getFullYear());\n    const [month, setMonth] = useState(today.getMonth() + 1);\n    const month_names = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \n        \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n\n    const data = additionalInfo;\n    \n    let extreme_temp = 0;\n    let start_time;\n    let end_time;\n    if(data){\n        extreme_temp = data['extreme_temp'];\n        start_time = data['working_from'];\n        end_time = data['working_to'];\n    }\n    \n    const [editTime, setEditTime] = useState(false);\n    const [editTemp, setEditTemp] = useState(false);\n    const [temp, setTemp] = useState({extreme_temp});\n    const [stTime, setStTime] = useState({start_time});\n    const [endTime, setEndTime] = useState({end_time});\n\n    const whiteDayPopup = (dayData, close) => (\n        <Frame27 close={close} day={dayData.day} month={month_names[(month-1)%12]} current_day={dayData.current_day}/>\n    )\n    return(\n        <div className = \"page\">\n            <div className = \"settings\">\n                <div className=\"setting\" >\n                    Working time: \n                    {!editTime ? (\n                    <div>\n                        {start_time}-{end_time}\n                    </div>) \n                    : \n                    <form style={{display: 'flex'}}>\n                        <input type='time' onChange={(event) => {setStTime(event.target.value)}}></input>\n                        -\n                        <input type='time' onChange={(event) => {setEndTime(event.target.value)}}></input>\n                    </form>}\n                    \n                    <div onClick = {() => {\n                        if(editTime){\n                            set(ref(db, 'additional_info/working_from'), stTime.toString());\n                            set(ref(db, 'additional_info/working_to'), endTime.toString());\n                        }\n                        setEditTime(!editTime);\n                    }}>\n                        <EditIcon/>\n                    </div>\n                </div>\n                <div className=\"month\" style={{marginBottom: '10px'}}>\n                    <div onClick={() => {\n                        if(month - 1 < 1){\n                            setYear(year - 1);\n                            setMonth((month + 11));\n                        }\n                        else{\n                            setMonth((month - 1));\n                        }\n                    }\n                    }>\n                        <ArrowBackIosIcon/>\n                    </div>\n                    \n                    {month_names[(month-1)%12]}\n\n                    <div onClick={() => {\n                        if(month + 1 > 12){\n                            setYear(year + 1);\n                            setMonth((month - 11));\n                        }\n                        else{\n                            setMonth((month + 1));\n                        }\n                    } }>\n                        <ArrowForwardIosIcon/>\n                    </div>\n                </div>\n                <div className=\"setting\" style={{justifyContent: 'end'}}>\n                    <div>\n                        Extreme Temperature:\n                    </div>\n                    {!editTemp ? (\n                        <div style={{}}>\n                            {extreme_temp}°C \n                        </div>\n                    )\n                    :\n                    (\n                        <form>\n                            <input type='number' style={{width: '50px'}} onChange={(event) => {setTemp(event.target.value)} }></input>\n                        </form>\n                    )}\n                    <div onClick = {() => {\n                        if(editTemp){\n                            set(ref(db, 'additional_info/extreme_temp'), temp);\n                        }\n                        setEditTemp(!editTemp);\n                    }}>\n                        <EditIcon/>\n                    </div>\n                </div>\n            </div>\n            <div className = \"calendar\">\n                <Calendar \n                    year={year} \n                    month={(month)} \n                    id={''} \n                    greenDayPopup={() => {}} \n                    redDayPopup = {() => {}} \n                    whiteDayPopup={whiteDayPopup}\n                    // workers={workers}\n                    dayoffs={dayoffs}\n                    additionalInfo={additionalInfo}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default ManagerSettings;","import React, {useState, useEffect} from 'react';\nimport { BrowserRouter as Router, Routes, Route, useNavigate } from \"react-router-dom\";\nimport { db, auth } from './firebase';\nimport {ref, child, get, onValue} from 'firebase/database';\nimport Login from \"./components/Login\";\nimport Home from \"./components/Home\";\nimport Email from \"./components/Email\";\nimport Worker from \"./components/Worker\";\nimport ManagerWorker from \"./components/Manager_worker\";\nimport Signup from \"./components/Signup\";\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Frame19 from \"./components/Frame19\";\nimport Frame20 from \"./components/Frame20\";\nimport Frame21 from \"./components/Frame21\";\nimport Frame22 from \"./components/Frame22\";\nimport Frame27 from \"./components/Frame27\";\nimport Dashboard from \"./components/Dashboard\";\nimport { GenerateRandomAttendanceData } from \"./components/GenerateRandomAttendanceData\";\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport ManagerSettings from \"./components/ManagerSettings\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport NoMatch from './components/NoMatch';\n\nfunction App() {\n\n  const [workers, setWorkers] = useState(null);\n  const [dayoffs, setDayoffs] = useState(null);\n  const [additionalInfo, setAdditionalInfo] = useState(null);\n  const [uid, setUid] = useState(null);\n  \n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n          setUid(user.uid);\n      } else {\n          setUid(0);\n      }\n    });\n    onValue(ref(db, '/workers'), (snapshot) => {\n      if(snapshot.exists()) {\n        setWorkers(snapshot.val());\n      } else {\n        setWorkers({});\n        console.log(\"No workers available\");\n      }\n    });\n    onValue(ref(db, '/dayoffs'), (snapshot) => {\n      if(snapshot.exists()) {\n        setDayoffs(snapshot.val());\n      } else {\n        setDayoffs({});\n        console.log(\"No dayoffs available\");\n      }\n    });\n    onValue(ref(db, '/additional_info'), (snapshot) => {\n      if(snapshot.exists()) {\n        setAdditionalInfo(snapshot.val());\n      } else {\n        setAdditionalInfo({});\n        console.log(\"No add info available\");\n      }\n    });\n  }, []);\n\n  let loading = true;\n  if(uid !== null && workers !== null && dayoffs !== null && additionalInfo !== null)\n    loading = false;\n  let manager = false;\n  if(uid && workers && workers[uid] && workers[uid].role === \"manager\")\n    manager = true;\n  // console.log(uid, workers, manager);\n\n  return (\n    <>\n      { loading \n        ? \n          <div className=\"loading-container\">\n            <CircularProgress />\n          </div>\n        :\n        <Router>\n          <div className=\"App\">\n            <Header uid={uid} workers={workers} dayoffs={dayoffs} additionalInfo={additionalInfo}/>\n            <div className=\"main-content\">\n              <Routes>\n                <Route path=\"/login\" element={<Login uid={uid} />} />\n                <Route path=\"/signup\" element={<Signup uid={uid}/>}/>\n                {\n                  manager \n                    ?\n                    <>\n                      <Route path=\"/\" element={<Dashboard uid={uid} workers={workers} dayoffs={dayoffs} additionalInfo={additionalInfo}/>} />    \n                      <Route path=\"/email\" element={<Email uid={uid} workers={workers} />} />\n                      <Route path=\"/manager-settings\" element={<ManagerSettings dayoffs={dayoffs} additionalInfo={additionalInfo}/>}/>\n                      <Route path=\"/manager-worker/:uid\" element={<ManagerWorker workers={workers} dayoffs={dayoffs} additionalInfo={additionalInfo}/>}/>\n                      <Route path=\"/generate-random-attendance\" element={<GenerateRandomAttendanceData />} />\n                    </>\n                    :\n                      <Route path=\"/\" element={<Worker uid={uid} workers={workers} dayoffs={dayoffs} additionalInfo={additionalInfo}/>}/>\n                }\n                {/* <Route path=\"/frame19\" element={<Frame19 />} />\n                <Route path=\"/frame20\" element={<Frame20 />} />\n                <Route path=\"/frame21\" element={<Frame21 />} />\n                <Route path=\"/frame22\" element={<Frame22 />} />\n                <Route path=\"/frame27\" element={<Frame27 />} /> */}\n                <Route path=\"*\" element={<NoMatch />} />                  \n              </Routes>\n            </div>\n            <Footer uid={uid} workers={workers} dayoffs={dayoffs} additionalInfo={additionalInfo} />\n          </div>\n        </Router>\n      }\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}